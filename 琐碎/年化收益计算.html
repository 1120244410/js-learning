<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <span>本金</span>
    <input type="number" id="baseMoney" />
    <span>年化收益率</span>
    <input type="number" id="rate" />%
    <span>收益年限</span>
    <input type="number" id="year" />
    <button onclick="calculation()">计算</button>
    <div>每年收益</div>
    <div id="currentProfit"></div>
    <div>总计收益</div>
    <p id="totalProfit"></p>
  </body>
</html>
<script>
  let start = 0;
  let totalProfit = 0;
  let year = 0;
  let rate = 0.0;
  let profitList = [];
  function calculation() {
    profitList = [];
    totalProfit = 0;
    start = 0;
    year = parseInt(document.querySelector("#year").value);
    rate = parseFloat(document.querySelector("#rate").value);
    const baseMoney = parseInt(document.querySelector("#baseMoney").value);
    profit(baseMoney);
    document.querySelector("#currentProfit").innerText = profitList;
    document.querySelector("#totalProfit").innerText = totalProfit;
  }
  function profit(base) {
    const currentProfit = (base * rate) / 100;
    profitList.push(`\n${currentProfit}`);
    totalProfit += currentProfit;
    start += 1;
    if (start < year) {
      profit(base + currentProfit);
    }
  }
</script>
